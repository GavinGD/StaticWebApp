{"ast":null,"code":"import _asyncToGenerator from\"/Users/gavin/Desktop/4870/toonland/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gavin/Desktop/4870/toonland/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/gavin/Desktop/4870/toonland/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import ToonList from'../components/ToonList';import NotFoundPage from'./NotFoundPage';import{useParams}from'react-router-dom';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ToonDetailPage=function ToonDetailPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({votes:0,id:0,firstName:'',lastName:''}),_useState2=_slicedToArray(_useState,2),toonInfo=_useState2[0],setToonInfo=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api4all.azurewebsites.net/api/people/\".concat(id));case 2:result=_context.sent;_context.next=5;return result.json();case 5:body=_context.sent;// console.log(body)\nsetToonInfo(body);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id]);if(!toonInfo)return/*#__PURE__*/_jsx(NotFoundPage,{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-info\",children:[toonInfo.id,\". \",toonInfo.firstName,\" \",toonInfo.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"This cartoon character has received \",toonInfo.votes,\" votes.\"]}),/*#__PURE__*/_jsx(\"table\",{style:{\"width\":\"90%\",\"margin\":\"auto\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{\"width\":\"15%\",\"verticalAlign\":\"top\"},children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded img-responsive pull-right img-thumbnail float-left\",style:{\"width\":\"50%\"},src:\"\".concat(toonInfo.pictureUrl),alt:\"\".concat(toonInfo.firstName,\" \").concat(toonInfo.lastName)})}),/*#__PURE__*/_jsxs(\"td\",{style:{\"width\":\"65%\",\"verticalAlign\":\"top\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Occupation: \"}),toonInfo.occupation]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Gender: \"}),toonInfo.gender]})]}),/*#__PURE__*/_jsxs(\"td\",{style:{\"width\":\"20%\",\"verticalAlign\":\"top\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Others:\"}),/*#__PURE__*/_jsx(ToonList,{exceptId:toonInfo.id})]})]})})})]});};export default ToonDetailPage;","map":{"version":3,"sources":["/Users/gavin/Desktop/4870/toonland/src/pages/ToonDetailPage.js"],"names":["React","ToonList","NotFoundPage","useParams","useState","useEffect","ToonDetailPage","id","votes","firstName","lastName","toonInfo","setToonInfo","fetchData","fetch","result","json","body","pictureUrl","occupation","gender"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,C,6IAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,eAAeH,SAAS,EAAxB,CAAQI,EAAR,YAAQA,EAAR,CAEA,cAAgCH,QAAQ,CAAC,CACvCI,KAAK,CAAE,CADgC,CAEvCD,EAAE,CAAE,CAFmC,CAGvCE,SAAS,CAAE,EAH4B,CAIvCC,QAAQ,CAAE,EAJ6B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAOAP,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,SAAS,0FAAG,yKACKC,CAAAA,KAAK,wDAAiDP,EAAjD,EADV,QACVQ,MADU,qCAEGA,CAAAA,MAAM,CAACC,IAAP,EAFH,QAEVC,IAFU,eAGhB;AACAL,WAAW,CAACK,IAAD,CAAX,CAJgB,sDAAH,kBAATJ,CAAAA,SAAS,0CAAf,CAMAA,SAAS,GACV,CARQ,CAQN,CAACN,EAAD,CARM,CAAT,CAUA,GAAI,CAACI,QAAL,CAAe,mBAAO,KAAC,YAAD,IAAP,CAEf,mBACE,wCACE,YAAI,SAAS,CAAC,WAAd,WAA2BA,QAAQ,CAACJ,EAApC,MAA0CI,QAAQ,CAACF,SAAnD,KAA+DE,QAAQ,CAACD,QAAxE,GADF,cAEE,4DAAwCC,QAAQ,CAACH,KAAjD,aAFF,cAGE,cAAO,KAAK,CAAE,CAAE,QAAS,KAAX,CAAkB,SAAU,MAA5B,CAAd,uBACE,oCACE,mCACE,WAAI,KAAK,CAAE,CAAE,QAAS,KAAX,CAAkB,gBAAiB,KAAnC,CAAX,uBACE,YAAK,SAAS,CAAC,4DAAf,CACE,KAAK,CAAE,CAAE,QAAS,KAAX,CADT,CAEE,GAAG,WAAKG,QAAQ,CAACO,UAAd,CAFL,CAEiC,GAAG,WAAKP,QAAQ,CAACF,SAAd,aAA2BE,QAAQ,CAACD,QAApC,CAFpC,EADF,EADF,cAME,YAAI,KAAK,CAAE,CAAE,QAAS,KAAX,CAAkB,gBAAiB,KAAnC,CAAX,wBACE,kCAAG,mCAAH,CAAuBC,QAAQ,CAACQ,UAAhC,GADF,cAEE,kCAAG,+BAAH,CAAmBR,QAAQ,CAACS,MAA5B,GAFF,GANF,cAUE,YAAI,KAAK,CAAE,CAAE,QAAS,KAAX,CAAkB,gBAAiB,KAAnC,CAAX,wBACE,+BADF,cAEE,KAAC,QAAD,EAAU,QAAQ,CAAET,QAAQ,CAACJ,EAA7B,EAFF,GAVF,GADF,EADF,EAHF,GADF,CA0BD,CAhDD,CAiDA,cAAeD,CAAAA,cAAf","sourcesContent":["import React from 'react';\nimport ToonList from '../components/ToonList';\nimport NotFoundPage from './NotFoundPage';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react'\n\nconst ToonDetailPage = () => {\n  const { id } = useParams();\n\n  const [toonInfo, setToonInfo] = useState({\n    votes: 0,\n    id: 0,\n    firstName: '',\n    lastName: ''\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(`https://api4all.azurewebsites.net/api/people/${id}`);\n      const body = await result.json();\n      // console.log(body)\n      setToonInfo(body);\n    }\n    fetchData();\n  }, [id]);\n\n  if (!toonInfo) return <NotFoundPage />\n\n  return (\n    <>\n      <h4 className=\"text-info\">{toonInfo.id}. {toonInfo.firstName} {toonInfo.lastName}</h4>\n      <p>This cartoon character has received {toonInfo.votes} votes.</p>\n      <table style={{ \"width\": \"90%\", \"margin\": \"auto\" }}>\n        <tbody>\n          <tr>\n            <td style={{ \"width\": \"15%\", \"verticalAlign\": \"top\" }}>\n              <img className=\"rounded img-responsive pull-right img-thumbnail float-left\"\n                style={{ \"width\": \"50%\" }}\n                src={`${toonInfo.pictureUrl}`} alt={`${toonInfo.firstName} ${toonInfo.lastName}`} />\n            </td>\n            <td style={{ \"width\": \"65%\", \"verticalAlign\": \"top\" }}>\n              <p><b>Occupation: </b>{toonInfo.occupation}</p>\n              <p><b>Gender: </b>{toonInfo.gender}</p>\n            </td>\n            <td style={{ \"width\": \"20%\", \"verticalAlign\": \"top\" }}>\n              <h3>Others:</h3>\n              <ToonList exceptId={toonInfo.id} />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n    </>\n  );\n}\nexport default ToonDetailPage;"]},"metadata":{},"sourceType":"module"}